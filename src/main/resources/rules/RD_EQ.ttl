@prefix rdf:    <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xs:     <http://www.w3.org/2001/XMLSchema#> .
@prefix sh:     <http://www.w3.org/ns/shacl#> .
@prefix rdfs:   <http://www.w3.org/2000/01/rdf-schema#> .
@prefix schema: <http://schema.org/> .
@prefix cim:    <http://iec.ch/TC57/2013/CIM-schema-cim16#> .

cim:RedispatchableResource_manual_Shape
    a              sh:NodeShape ;
    sh:closed      false ;
    sh:description "There must be exactly one Storage or GeneratingUnit attached to every RedispatchableResource" ;
    sh:xone        ( [ sh:property [ sh:path     cim:RedispatchableResource.storage ;
                                     sh:minCount 1 ;
                                     sh:maxCount 1 ; ] ; ]
                     [ sh:property [ sh:path     cim:RedispatchableResource.generatingUnit ;
                                     sh:minCount 1 ;
                                     sh:maxCount 1 ; ] ] ) ;
    sh:targetClass cim:RedispatchableResource .

cim:ControllableResource_manual_Shape
    a              sh:NodeShape ;
    sh:closed      false ;
    sh:targetClass cim:ControllableResource ;
    sh:property    [ sh:description "Every ControllableResource needs to be connected to at least one RedispatchableResource" ;
                     sh:path        [ sh:inversePath cim:RedispatchableResource.controllableResource ] ;
                     sh:minCount    1 ; ] .

